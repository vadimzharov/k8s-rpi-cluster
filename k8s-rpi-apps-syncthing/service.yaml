apiVersion: v1
kind: Service
metadata:
  name: syncthing-transfer
  namespace: syncthing
  annotations:
    metallb.universe.tf/allow-shared-ip: syncthing-svc     
  labels:
    app: syncthing
    release: syncthing
spec:
  type: LoadBalancer
  loadBalancerIP: 192.168.90.52
  ports:
    - name: tcp-transfer
      protocol: TCP
      port: 22000
      targetPort: tcp-transfer
    - name: quic-transfer
      protocol: UDP
      port: 22000
      targetPort: quic-transfer
    - name: local-discovery
      protocol: UDP
      port: 21027
      targetPort: local-discovery
  selector:
    app: syncthing
    release: syncthing